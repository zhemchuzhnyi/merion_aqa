package ru.merion.aqa.lesson4;

// Импорт основных классов Selenium для работы с веб-элементами
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
// Импорт фабрики для создания экземпляров веб-драйвера
import ru.merion.aqa.WebDriverFactory;

/**
 * Класс демонстрирует работу с динамически изменяющимися элементами
 * Показывает использование метода navigate().refresh() и повторные клики
 */
public class ClickV2 {

    public static void main(String[] args) {

        // Создание экземпляра веб-драйвера Chrome через фабричный метод
        WebDriver driver = WebDriverFactory.create("chrome");

        // Переход на тестовую страницу UI Testing Playground
        // Эта страница специально создана для отработки сложных сценариев автоматизации
        // Раздел "click" содержит кнопку с динамическим поведением
        driver.get("http://uitestingplayground.com/click");

        // Поиск кнопки по ID-селектору и выполнение первого клика
        // "#badButton" - CSS-селектор для элемента с id="badButton"
        // Кнопка называется "bad" потому что после клика она может изменить свое состояние
        // (например, переместиться, изменить размер или стать временно недоступной)
        driver.findElement(By.cssSelector("#badButton")).click();

        // Обновление страницы для сброса состояния элементов
        // navigate().refresh() - аналог нажатия F5 или кнопки обновления в браузере
        // Это возвращает страницу и все элементы в исходное состояние
        driver.navigate().refresh();

        // Повторный поиск той же кнопки и выполнение второго клика
        // После обновления страницы кнопка снова доступна в исходном состоянии
        // Этот подход демонстрирует работу с элементами, которые могут изменяться
        driver.findElement(By.cssSelector("#badButton")).click();

        // Корректное закрытие браузера и освобождение ресурсов
        driver.quit();
    }
}